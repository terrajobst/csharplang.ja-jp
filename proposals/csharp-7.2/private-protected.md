---
ms.openlocfilehash: 6cf489595654236c18edee94c0af380e605c9571
ms.sourcegitcommit: f61a06970fa0562d2e40363fae3948eb168624ca
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/14/2020
ms.locfileid: "79484076"
---
# <a name="private-protected"></a><span data-ttu-id="14a01-101">private protected</span><span class="sxs-lookup"><span data-stu-id="14a01-101">private protected</span></span>

* <span data-ttu-id="14a01-102">[x] が提案されています</span><span class="sxs-lookup"><span data-stu-id="14a01-102">[x] Proposed</span></span>
* <span data-ttu-id="14a01-103">[x] プロトタイプ:[完了](https://github.com/dotnet/roslyn/blob/master/docs/features/private-protected.md)</span><span class="sxs-lookup"><span data-stu-id="14a01-103">[x] Prototype: [Complete](https://github.com/dotnet/roslyn/blob/master/docs/features/private-protected.md)</span></span>
* <span data-ttu-id="14a01-104">[x] 実装:[完了](https://github.com/dotnet/roslyn/blob/master/docs/features/private-protected.md)</span><span class="sxs-lookup"><span data-stu-id="14a01-104">[x] Implementation: [Complete](https://github.com/dotnet/roslyn/blob/master/docs/features/private-protected.md)</span></span>
* <span data-ttu-id="14a01-105">[x] 仕様:[完了](#detailed-design)</span><span class="sxs-lookup"><span data-stu-id="14a01-105">[x] Specification: [Complete](#detailed-design)</span></span>

## <a name="summary"></a><span data-ttu-id="14a01-106">まとめ</span><span class="sxs-lookup"><span data-stu-id="14a01-106">Summary</span></span>
[summary]: #summary

<span data-ttu-id="14a01-107">CLR `protectedAndInternal` アクセシビリティレベルを `private protected`C#として公開します。</span><span class="sxs-lookup"><span data-stu-id="14a01-107">Expose the CLR `protectedAndInternal` accessibility level in C# as `private protected`.</span></span>

## <a name="motivation"></a><span data-ttu-id="14a01-108">目的</span><span class="sxs-lookup"><span data-stu-id="14a01-108">Motivation</span></span>
[motivation]: #motivation

<span data-ttu-id="14a01-109">API には、型を提供するアセンブリに含まれるサブクラスで実装および使用することのみを目的としたメンバーが含まれています。</span><span class="sxs-lookup"><span data-stu-id="14a01-109">There are many circumstances in which an API contains members that are only intended to be implemented and used by subclasses contained in the assembly that provides the type.</span></span> <span data-ttu-id="14a01-110">CLR では、その目的のアクセシビリティレベルが提供されますが、 C#では使用できません。</span><span class="sxs-lookup"><span data-stu-id="14a01-110">While the CLR provides an accessibility level for that purpose, it is not available in C#.</span></span> <span data-ttu-id="14a01-111">その結果、API 所有者は `internal` 保護と自己統制またはカスタムアナライザーを使用するか、または `protected` を使用して、その型のパブリックドキュメントにメンバーが表示されるのに対し、パブリック API の一部としては使用しません。</span><span class="sxs-lookup"><span data-stu-id="14a01-111">Consequently API owners are forced to either use `internal` protection and self-discipline or a custom analyzer, or to use `protected` with additional documentation explaining that, while the member appears in the public documentation for the type, it is not intended to be part of the public API.</span></span>  <span data-ttu-id="14a01-112">後者の例については、「`Common`で始まる名前を持つ Roslyn の `CSharpCompilationOptions` のメンバー」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="14a01-112">For examples of the latter, see members of Roslyn's `CSharpCompilationOptions` whose names start with `Common`.</span></span>

<span data-ttu-id="14a01-113">でC#このアクセスレベルのサポートを直接指定すると、このような状況を言語で自然に表現できるようになります。</span><span class="sxs-lookup"><span data-stu-id="14a01-113">Directly providing support for this access level in C# enables these circumstances to be expressed naturally in the language.</span></span>

## <a name="detailed-design"></a><span data-ttu-id="14a01-114">詳細なデザイン</span><span class="sxs-lookup"><span data-stu-id="14a01-114">Detailed design</span></span>
[design]: #detailed-design

### <a name="private-protected-access-modifier"></a><span data-ttu-id="14a01-115">`private protected` アクセス修飾子</span><span class="sxs-lookup"><span data-stu-id="14a01-115">`private protected` access modifier</span></span>

<span data-ttu-id="14a01-116">新しいアクセス修飾子の組み合わせ `private protected` を追加することを提案します (これは、修飾子の中で任意の順序で表示できます)。</span><span class="sxs-lookup"><span data-stu-id="14a01-116">We propose to add a new access modifier combination `private protected` (which can appear in any order among the modifiers).</span></span> <span data-ttu-id="14a01-117">これは、protectedAndInternal の CLR の概念にマップされ、 [ C++/cli](https://docs.microsoft.com/cpp/dotnet/how-to-define-and-consume-classes-and-structs-cpp-cli#BKMK_Member_visibility)で現在使用されているのと同じ構文をではします。</span><span class="sxs-lookup"><span data-stu-id="14a01-117">This maps to the CLR notion of protectedAndInternal, and borrows the same syntax currently used in [C++/CLI](https://docs.microsoft.com/cpp/dotnet/how-to-define-and-consume-classes-and-structs-cpp-cli#BKMK_Member_visibility).</span></span>

<span data-ttu-id="14a01-118">`private protected` として宣言されたメンバーは、そのサブクラスがメンバーと同じアセンブリ内にある場合に、そのコンテナーのサブクラス内でアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="14a01-118">A member declared `private protected` can be accessed within a subclass of its container if that subclass is in the same assembly as the member.</span></span>

<span data-ttu-id="14a01-119">言語仕様は次のように変更されます (太字で追加)。</span><span class="sxs-lookup"><span data-stu-id="14a01-119">We modify the language specification as follows (additions in bold).</span></span> <span data-ttu-id="14a01-120">セクション番号は、統合されている仕様のバージョンによって異なる場合があるため、以下には記載されていません。</span><span class="sxs-lookup"><span data-stu-id="14a01-120">Section numbers are not shown below as they may vary depending on which version of the specification it is integrated into.</span></span>

-----

> <span data-ttu-id="14a01-121">メンバーに対して宣言されたアクセシビリティは、次のいずれかになります。</span><span class="sxs-lookup"><span data-stu-id="14a01-121">The declared accessibility of a member can be one of the following:</span></span>
- <span data-ttu-id="14a01-122">Public。メンバー宣言に public 修飾子を含めることによって選択されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-122">Public, which is selected by including a public modifier in the member declaration.</span></span> <span data-ttu-id="14a01-123">パブリックの直感的な意味は、"アクセスが制限されない" ということです。</span><span class="sxs-lookup"><span data-stu-id="14a01-123">The intuitive meaning of public is “access not limited”.</span></span>
- <span data-ttu-id="14a01-124">Protected。メンバー宣言に protected 修飾子を含めることによって選択されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-124">Protected, which is selected by including a protected modifier in the member declaration.</span></span> <span data-ttu-id="14a01-125">Protected の直感的な意味は、"コンテナークラスに対するアクセス制限" または "含んでいるクラスから派生した型" です。</span><span class="sxs-lookup"><span data-stu-id="14a01-125">The intuitive meaning of protected is “access limited to the containing class or types derived from the containing class”.</span></span>
- <span data-ttu-id="14a01-126">Internal。メンバー宣言に内部修飾子を含めることによって選択されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-126">Internal, which is selected by including an internal modifier in the member declaration.</span></span> <span data-ttu-id="14a01-127">内部の直感的な意味は、"this assembly に限定されたアクセス" です。</span><span class="sxs-lookup"><span data-stu-id="14a01-127">The intuitive meaning of internal is “access limited to this assembly”.</span></span>
- <span data-ttu-id="14a01-128">Protected internal。プロテクトと内部修飾子の両方をメンバー宣言に含めることによって選択されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-128">Protected internal, which is selected by including both a protected and an internal modifier in the member declaration.</span></span> <span data-ttu-id="14a01-129">Protected internal の直感的な意味は、"このアセンブリ内でアクセスできます。また、それを含んでいるクラスから派生した型" です。</span><span class="sxs-lookup"><span data-stu-id="14a01-129">The intuitive meaning of protected internal is “accessible within this assembly as well as types derived from the containing class”.</span></span>
- <span data-ttu-id="14a01-130">**Private protected。メンバー宣言に private 修飾子と protected 修飾子の両方を含めることによって選択されます。Private protected の直感的な意味は、"親クラスから派生した型によって、このアセンブリ内でアクセスできる" ということです。**</span><span class="sxs-lookup"><span data-stu-id="14a01-130">**Private protected, which is selected by including both a private and a protected modifier in the member declaration. The intuitive meaning of private protected is “accessible within this assembly by types derived from the containing class”.**</span></span>

-----

> <span data-ttu-id="14a01-131">メンバー宣言が行われるコンテキストによっては、特定の種類のアクセシビリティのみが許可されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-131">Depending on the context in which a member declaration takes place, only certain types of declared accessibility are permitted.</span></span> <span data-ttu-id="14a01-132">さらに、メンバー宣言にアクセス修飾子が含まれていない場合、宣言が実行されるコンテキストによって、既定で宣言されたアクセシビリティが決まります。</span><span class="sxs-lookup"><span data-stu-id="14a01-132">Furthermore, when a member declaration does not include any access modifiers, the context in which the declaration takes place determines the default declared accessibility.</span></span> 
- <span data-ttu-id="14a01-133">名前空間は、暗黙的にパブリックに宣言されたアクセシビリティを持ちます。</span><span class="sxs-lookup"><span data-stu-id="14a01-133">Namespaces implicitly have public declared accessibility.</span></span> <span data-ttu-id="14a01-134">名前空間宣言でアクセス修飾子を使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-134">No access modifiers are allowed on namespace declarations.</span></span>
- <span data-ttu-id="14a01-135">コンパイル単位または名前空間で直接宣言された型 (他の型の内部ではない) は、パブリックまたは内部で宣言されたアクセシビリティを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-135">Types declared directly in compilation units or namespaces (as opposed to within other types) can have public or internal declared accessibility and default to internal declared accessibility.</span></span>
- <span data-ttu-id="14a01-136">クラスメンバーは、5種類の宣言されたアクセシビリティを持つことができ、既定でプライベートに宣言されたアクセシビリティを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-136">Class members can have any of the five kinds of declared accessibility and default to private declared accessibility.</span></span> <span data-ttu-id="14a01-137">[注: クラスのメンバーとして宣言された型は、5種類のアクセシビリティを持つことができますが、名前空間のメンバーとして宣言された型は、パブリックまたは内部で宣言されたアクセシビリティのみを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-137">[Note: A type declared as a member of a class can have any of the five kinds of declared accessibility, whereas a type declared as a member of a namespace can have only public or internal declared accessibility.</span></span> <span data-ttu-id="14a01-138">メモを終了する</span><span class="sxs-lookup"><span data-stu-id="14a01-138">end note]</span></span>
- <span data-ttu-id="14a01-139">構造体メンバーは、public、internal、または private として宣言されたアクセシビリティを持つことができます。また、構造体は暗黙的にシールされるので、アクセシビリティは既定でプライベート</span><span class="sxs-lookup"><span data-stu-id="14a01-139">Struct members can have public, internal, or private declared accessibility and default to private declared accessibility because structs are implicitly sealed.</span></span> <span data-ttu-id="14a01-140">構造体で導入された構造体メンバー (その構造体によって継承されない) は、protected、protected internal **、または private protected** ~~で宣言~~されたアクセシビリティ*を*持つことはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-140">Struct members introduced in a struct (that is, not inherited by that struct) cannot have protected *,* ~~or~~ protected internal **, or private protected** declared accessibility.</span></span> <span data-ttu-id="14a01-141">[注: 構造体のメンバーとして宣言された型では、public、internal、または private として宣言されたアクセシビリティを持つことができますが、名前空間のメンバーとして宣言された型は、パブリックまたは内部で宣言されたアクセシビリティのみを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-141">[Note: A type declared as a member of a struct can have public, internal, or private declared accessibility, whereas a type declared as a member of a namespace can have only public or internal declared accessibility.</span></span> <span data-ttu-id="14a01-142">メモを終了する</span><span class="sxs-lookup"><span data-stu-id="14a01-142">end note]</span></span>
- <span data-ttu-id="14a01-143">インターフェイスメンバーは、暗黙的にパブリックに宣言されたアクセシビリティを持ちます。</span><span class="sxs-lookup"><span data-stu-id="14a01-143">Interface members implicitly have public declared accessibility.</span></span> <span data-ttu-id="14a01-144">インターフェイスメンバー宣言でアクセス修飾子を使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-144">No access modifiers are allowed on interface member declarations.</span></span>
- <span data-ttu-id="14a01-145">列挙型のメンバーは、暗黙的にパブリックに宣言されたアクセシビリティを持ちます。</span><span class="sxs-lookup"><span data-stu-id="14a01-145">Enumeration members implicitly have public declared accessibility.</span></span> <span data-ttu-id="14a01-146">列挙メンバー宣言でアクセス修飾子を使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-146">No access modifiers are allowed on enumeration member declarations.</span></span>

-----

> <span data-ttu-id="14a01-147">プログラム P 内の T 型で宣言された入れ子になったメンバー M のアクセシビリティドメインは、次のように定義されます (M 自体は型である可能性があります)。</span><span class="sxs-lookup"><span data-stu-id="14a01-147">The accessibility domain of a nested member M declared in a type T within a program P, is defined as follows (noting that M itself might possibly be a type):</span></span>
- <span data-ttu-id="14a01-148">宣言された M のアクセシビリティがパブリックの場合、M のアクセシビリティドメインは T のアクセシビリティドメインになります。</span><span class="sxs-lookup"><span data-stu-id="14a01-148">If the declared accessibility of M is public, the accessibility domain of M is the accessibility domain of T.</span></span>
- <span data-ttu-id="14a01-149">宣言された M のアクセシビリティが内部で保護されている場合、D は、p のプログラムテキストと、P 以外で宣言されている T から派生した任意の型のプログラムテキストの和集合として使用します。M のアクセシビリティドメインは、T のアクセシビリティドメインと D の積集合です。</span><span class="sxs-lookup"><span data-stu-id="14a01-149">If the declared accessibility of M is protected internal, let D be the union of the program text of P and the program text of any type derived from T, which is declared outside P. The accessibility domain of M is the intersection of the accessibility domain of T with D.</span></span>
- <span data-ttu-id="14a01-150">**宣言された M のアクセシビリティがプライベートで保護されている場合、D は、P のプログラムテキストと、T から派生した任意の型のプログラムテキストとの積集合として使用します。M のアクセシビリティドメインは、T のアクセシビリティドメインと D の積集合です。**</span><span class="sxs-lookup"><span data-stu-id="14a01-150">**If the declared accessibility of M is private protected, let D be the intersection of the program text of P and the program text of any type derived from T. The accessibility domain of M is the intersection of the accessibility domain of T with D.**</span></span>
- <span data-ttu-id="14a01-151">宣言された M のアクセシビリティが保護されている場合、D は T のプログラムテキストと、T から派生した任意の型のプログラムテキストの和集合になります。M のアクセシビリティドメインは、T のアクセシビリティドメインと D の積集合です。</span><span class="sxs-lookup"><span data-stu-id="14a01-151">If the declared accessibility of M is protected, let D be the union of the program text of T and the program text of any type derived from T. The accessibility domain of M is the intersection of the accessibility domain of T with D.</span></span>
- <span data-ttu-id="14a01-152">宣言された M のアクセシビリティが内部の場合、M のアクセシビリティドメインは、T のアクセシビリティドメインと、P のプログラムテキストとの積集合になります。</span><span class="sxs-lookup"><span data-stu-id="14a01-152">If the declared accessibility of M is internal, the accessibility domain of M is the intersection of the accessibility domain of T with the program text of P.</span></span>
- <span data-ttu-id="14a01-153">宣言された M のアクセシビリティがプライベートである場合、M のアクセシビリティドメインは T のプログラムテキストになります。</span><span class="sxs-lookup"><span data-stu-id="14a01-153">If the declared accessibility of M is private, the accessibility domain of M is the program text of T.</span></span>

-----

> <span data-ttu-id="14a01-154">保護されている、**またはプライベートに保護さ**れたインスタンスメンバーが、そのメンバーが宣言されているクラスのプログラムテキストの外部からアクセスされ、保護された内部インスタンスのメンバーが、宣言されているプログラムのプログラムテキストの外部でアクセスされた場合、アクセスは、宣言されたクラスから派生したクラス宣言内</span><span class="sxs-lookup"><span data-stu-id="14a01-154">When a protected **or private protected** instance member is accessed outside the program text of the class in which it is declared, and when a protected internal instance member is accessed outside the program text of the program in which it is declared, the access shall take place within a class declaration that derives from the class in which it is declared.</span></span> <span data-ttu-id="14a01-155">さらに、その派生クラス型のインスタンス、またはそれから構築されたクラス型を使用してアクセスする必要があります。</span><span class="sxs-lookup"><span data-stu-id="14a01-155">Furthermore, the access is required to take place through an instance of that derived class type or a class type constructed from it.</span></span> <span data-ttu-id="14a01-156">この制限により、メンバーが同じ基本クラスから継承されている場合でも、1つの派生クラスが他の派生クラスのプロテクトメンバーにアクセスするのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-156">This restriction prevents one derived class from accessing protected members of other derived classes, even when the members are inherited from the same base class.</span></span>

-----

> <span data-ttu-id="14a01-157">許可されるアクセス修飾子と型宣言の既定のアクセスは、宣言が行われるコンテキスト (9.5.2 を参照) によって異なります。</span><span class="sxs-lookup"><span data-stu-id="14a01-157">The permitted access modifiers and the default access for a type declaration depend on the context in which the declaration takes place (§9.5.2):</span></span>
- <span data-ttu-id="14a01-158">コンパイル単位または名前空間で宣言された型は、パブリックまたは内部アクセスを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-158">Types declared in compilation units or namespaces can have public or internal access.</span></span> <span data-ttu-id="14a01-159">既定値は 内部アクセスです。</span><span class="sxs-lookup"><span data-stu-id="14a01-159">The default is internal access.</span></span>
- <span data-ttu-id="14a01-160">クラスで宣言された型は、public、protected internal、 **private protected**、protected、internal、または private アクセスを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-160">Types declared in classes can have public, protected internal, **private protected**, protected, internal, or private access.</span></span> <span data-ttu-id="14a01-161">既定値はプライベートアクセスです。</span><span class="sxs-lookup"><span data-stu-id="14a01-161">The default is private access.</span></span>
- <span data-ttu-id="14a01-162">構造体で宣言された型は、パブリック、内部、またはプライベートアクセスを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-162">Types declared in structs can have public, internal, or private access.</span></span> <span data-ttu-id="14a01-163">既定値はプライベートアクセスです。</span><span class="sxs-lookup"><span data-stu-id="14a01-163">The default is private access.</span></span>

-----

> <span data-ttu-id="14a01-164">静的クラスの宣言には、次の制限があります。</span><span class="sxs-lookup"><span data-stu-id="14a01-164">A static class declaration is subject to the following restrictions:</span></span>
- <span data-ttu-id="14a01-165">静的クラスに sealed または abstract 修飾子を含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-165">A static class shall not include a sealed or abstract modifier.</span></span> <span data-ttu-id="14a01-166">(ただし、静的クラスはインスタンス化したり、から派生させたりすることはできません。そのため、シールドと抽象の両方であるかのように動作します)。</span><span class="sxs-lookup"><span data-stu-id="14a01-166">(However, since a static class cannot be instantiated or derived from, it behaves as if it was both sealed and abstract.)</span></span>
- <span data-ttu-id="14a01-167">静的クラスには、クラスベースの仕様 (16.2.5 を参照) を含めないでください。基底クラスまたは実装されたインターフェイスのリストを明示的に指定することはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-167">A static class shall not include a class-base specification (§16.2.5) and cannot explicitly specify a base class or a list of implemented interfaces.</span></span> <span data-ttu-id="14a01-168">静的クラスは、型オブジェクトから暗黙的に継承します。</span><span class="sxs-lookup"><span data-stu-id="14a01-168">A static class implicitly inherits from type object.</span></span>
- <span data-ttu-id="14a01-169">静的クラスには静的メンバーのみを含める必要があります (16.4.8 を参照)。</span><span class="sxs-lookup"><span data-stu-id="14a01-169">A static class shall only contain static members (§16.4.8).</span></span> <span data-ttu-id="14a01-170">[注: すべての定数と入れ子になった型は、静的メンバーとして分類されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-170">[Note: All constants and nested types are classified as static members.</span></span> <span data-ttu-id="14a01-171">メモを終了する</span><span class="sxs-lookup"><span data-stu-id="14a01-171">end note]</span></span>
- <span data-ttu-id="14a01-172">静的クラスには **、protected、private protected、** または protected internal で宣言されたアクセシビリティを持つメンバーを含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-172">A static class shall not have members with protected **, private protected** or protected internal declared accessibility.</span></span>

> <span data-ttu-id="14a01-173">これらの制限に違反すると、コンパイル時にエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="14a01-173">It is a compile-time error to violate any of these restrictions.</span></span> 

-----

> <span data-ttu-id="14a01-174">クラスメンバー宣言は、宣言されたアクセシビリティの~~5~~**つの**種類 (9.5.2) のうちのいずれか1つを持つことができます。 public、 **private protected**、protected internal、protected、internal、または private。</span><span class="sxs-lookup"><span data-stu-id="14a01-174">A class-member-declaration can have any one of the ~~five~~**six** possible kinds of declared accessibility (§9.5.2): public, **private protected**, protected internal, protected, internal, or private.</span></span> <span data-ttu-id="14a01-175">Protected internal**と private protected**の組み合わせを除き、**複数のアクセス**修飾子を指定するコンパイル時エラーになります。</span><span class="sxs-lookup"><span data-stu-id="14a01-175">Except for the protected internal **and private protected** combination**s**, it is a compile-time error to specify more than one access modifier.</span></span> <span data-ttu-id="14a01-176">クラスメンバー宣言にアクセス修飾子が含まれていない場合、private が想定されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-176">When a class-member-declaration does not include any access modifiers, private is assumed.</span></span>

-----

> <span data-ttu-id="14a01-177">入れ子になっていない型は、パブリックまたは内部で宣言されたアクセシビリティを持つことができ、既定で内部で宣言されたアクセシビリティを持ちます。</span><span class="sxs-lookup"><span data-stu-id="14a01-177">Non-nested types can have public or internal declared accessibility and have internal declared accessibility by default.</span></span> <span data-ttu-id="14a01-178">入れ子にされた型には、これらの形式のアクセシビリティを含めることができます。また、包含する型がクラスまたは構造体であるかどうかによって、宣言されたアクセシビリティの1つ以上の追加の形式を使用できます。</span><span class="sxs-lookup"><span data-stu-id="14a01-178">Nested types can have these forms of declared accessibility too, plus one or more additional forms of declared accessibility, depending on whether the containing type is a class or struct:</span></span>
- <span data-ttu-id="14a01-179">クラス内で宣言されている入れ子にされた型は、 ~~5~~**つの任意の形式 (** public、 **private protected**、protected internal、protected、internal、または private) を持つことができ、他のクラスメンバーと同様に、既定でプライベートに宣言されたアクセシビリティを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-179">A nested type that is declared in a class can have any of ~~five~~**six** forms of declared accessibility (public, **private protected**, protected internal, protected, internal, or private) and, like other class members, defaults to private declared accessibility.</span></span>
- <span data-ttu-id="14a01-180">構造体で宣言されている入れ子にされた型は、3つの形式のアクセシビリティ (public、internal、または private) を持つことができ、他の構造体メンバーと同様に、既定でプライベートに宣言されたアクセシビリティを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="14a01-180">A nested type that is declared in a struct can have any of three forms of declared accessibility (public, internal, or private) and, like other struct members, defaults to private declared accessibility.</span></span>

-----

> <span data-ttu-id="14a01-181">オーバーライド宣言によってオーバーライドされるメソッドは、クラス C で宣言されているオーバーライドメソッド M のオーバーライドされた基本メソッドと呼ばれます。オーバーライドされた基本メソッドは、c の基底クラス型 (c の直接基底クラス型から始まります) を調べることによって決定されます。連続した各直接基底クラスの型を続けて、特定の基底クラスの型で、型引数の代入後に M と同じシグネチャを持つアクセス可能なメソッドが少なくとも1つあることを示します。</span><span class="sxs-lookup"><span data-stu-id="14a01-181">The method overridden by an override declaration is known as the overridden base method For an override method M declared in a class C, the overridden base method is determined by examining each base class type of C, starting with the direct base class type of C and continuing with each successive direct base class type, until in a given base class type at least one accessible method is located which has the same signature as M after substitution of type arguments.</span></span> <span data-ttu-id="14a01-182">オーバーライドされた基本メソッドを検索するために、メソッドは、パブリックである場合、保護されている場合、内部で保護**されて**いる場合、または内部または**プライベートに保護**され、C と同じプログラムで宣言されている場合に、アクセス可能と見なされます。</span><span class="sxs-lookup"><span data-stu-id="14a01-182">For the purposes of locating the overridden base method, a method is considered accessible if it is public, if it is protected, if it is protected internal, or if it is **either** internal **or private protected** and declared in the same program as C.</span></span>

-----

> <span data-ttu-id="14a01-183">アクセサー修飾子の使用には、次の制限が適用されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-183">The use of accessor-modifiers is governed by the following restrictions:</span></span>
- <span data-ttu-id="14a01-184">アクセサー修飾子は、インターフェイスまたは明示的なインターフェイスメンバーの実装では使用できません。</span><span class="sxs-lookup"><span data-stu-id="14a01-184">An accessor-modifier shall not be used in an interface or in an explicit interface member implementation.</span></span>
- <span data-ttu-id="14a01-185">オーバーライド修飾子を持たないプロパティまたはインデクサーの場合、アクセサー修飾子は、プロパティまたはインデクサーに get アクセサーと set アクセサーの両方がある場合にのみ許可されます。その後、これらのアクセサーのいずれかに対してのみ許可されます。</span><span class="sxs-lookup"><span data-stu-id="14a01-185">For a property or indexer that has no override modifier, an accessor-modifier is permitted only if the property or indexer has both a get and set accessor, and then is permitted only on one of those accessors.</span></span>
- <span data-ttu-id="14a01-186">オーバーライド修飾子を含むプロパティまたはインデクサーの場合、アクセサーは、オーバーライドされるアクセサーのアクセサー修飾子 (存在する場合) と一致させる必要があります。</span><span class="sxs-lookup"><span data-stu-id="14a01-186">For a property or indexer that includes an override modifier, an accessor shall match the accessor-modifier, if any, of the accessor being overridden.</span></span>
- <span data-ttu-id="14a01-187">アクセサー修飾子は、プロパティまたはインデクサー自体の宣言されたアクセシビリティより厳密に制限されたアクセシビリティを宣言する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14a01-187">The accessor-modifier shall declare an accessibility that is strictly more restrictive than the declared accessibility of the property or indexer itself.</span></span> <span data-ttu-id="14a01-188">正確である必要があります。</span><span class="sxs-lookup"><span data-stu-id="14a01-188">To be precise:</span></span>
  - <span data-ttu-id="14a01-189">プロパティまたはインデクサーが public のアクセシビリティとして宣言されている場合、アクセサー修飾子は**private protected**、、protected internal、internal、protected、または private のいずれかになります。</span><span class="sxs-lookup"><span data-stu-id="14a01-189">If the property or indexer has a declared accessibility of public, the accessor-modifier may be either **private protected**, , protected internal, internal, protected, or private.</span></span>
  - <span data-ttu-id="14a01-190">プロパティまたはインデクサーが protected internal のアクセシビリティとして宣言されている場合、アクセサー修飾子は**private protected**、internal、protected、または private のいずれかになります。</span><span class="sxs-lookup"><span data-stu-id="14a01-190">If the property or indexer has a declared accessibility of protected internal, the accessor-modifier may be either **private protected**, internal, protected, or private.</span></span>
  - <span data-ttu-id="14a01-191">プロパティまたはインデクサーが internal または protected として宣言されたアクセシビリティを持っている場合、アクセサー修飾子は**プライベートに保護**されているか、プライベートである必要があります。</span><span class="sxs-lookup"><span data-stu-id="14a01-191">If the property or indexer has a declared accessibility of internal or protected, the accessor-modifier shall be **either private protected or** private.</span></span>
  - <span data-ttu-id="14a01-192">**プロパティまたはインデクサーに private protected のアクセシビリティが宣言されている場合、アクセサー修飾子は private である必要があります。**</span><span class="sxs-lookup"><span data-stu-id="14a01-192">**If the property or indexer has a declared accessibility of private protected, the accessor-modifier shall be private.**</span></span>
  - <span data-ttu-id="14a01-193">プロパティまたはインデクサーに private として宣言されたアクセシビリティがある場合、アクセサー修飾子は使用できません。</span><span class="sxs-lookup"><span data-stu-id="14a01-193">If the property or indexer has a declared accessibility of private, no accessor-modifier may be used.</span></span>

-----

> <span data-ttu-id="14a01-194">構造体では継承がサポートされていないため、宣言された構造体メンバーのアクセシビリティを protected、 **private protected**、または protected internal にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="14a01-194">Since inheritance isn’t supported for structs, the declared accessibility of a struct member cannot be protected, **private protected**, or protected internal.</span></span>

-----

## <a name="drawbacks"></a><span data-ttu-id="14a01-195">短所</span><span class="sxs-lookup"><span data-stu-id="14a01-195">Drawbacks</span></span>
[drawbacks]: #drawbacks

<span data-ttu-id="14a01-196">他の言語機能と同様に、この機能の恩恵を受けるプログラムのC#本文に対して、さらに複雑な言語を端的にする必要があるかどうかを質問する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14a01-196">As with any language feature, we must question whether the additional complexity to the language is repaid in the additional clarity offered to the body of C# programs that would benefit from the feature.</span></span>

## <a name="alternatives"></a><span data-ttu-id="14a01-197">代替</span><span class="sxs-lookup"><span data-stu-id="14a01-197">Alternatives</span></span>
[alternatives]: #alternatives

<span data-ttu-id="14a01-198">別の方法として、属性とアナライザーを組み合わせた API をプロビジョニングすることもできます。</span><span class="sxs-lookup"><span data-stu-id="14a01-198">An alternative would be the provision of an API combining an attribute and an analyzer.</span></span> <span data-ttu-id="14a01-199">属性は `internal` メンバーに対してプログラマによって設定されます。これは、メンバーがサブクラスでのみ使用されることを示すために、アナライザーはそれらの制限が cache-control であることを確認します。</span><span class="sxs-lookup"><span data-stu-id="14a01-199">The attribute is placed by the programmer on an `internal` member to indicates that the member is intended to be used only in subclasses, and the analyzer checks that those restrictions are obeyed.</span></span> 

## <a name="unresolved-questions"></a><span data-ttu-id="14a01-200">未解決の質問</span><span class="sxs-lookup"><span data-stu-id="14a01-200">Unresolved questions</span></span>
[unresolved]: #unresolved-questions

<span data-ttu-id="14a01-201">実装の大部分は完全です。</span><span class="sxs-lookup"><span data-stu-id="14a01-201">The implementation is largely complete.</span></span> <span data-ttu-id="14a01-202">開かれている作業項目は、VB に対応する仕様の下書きです。</span><span class="sxs-lookup"><span data-stu-id="14a01-202">The only open work item is drafting a corresponding specification for VB.</span></span>

## <a name="design-meetings"></a><span data-ttu-id="14a01-203">会議のデザイン</span><span class="sxs-lookup"><span data-stu-id="14a01-203">Design meetings</span></span>

<span data-ttu-id="14a01-204">TBD</span><span class="sxs-lookup"><span data-stu-id="14a01-204">TBD</span></span>
